<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <script>
        function showOptions() {
            const type = document.getElementById("product_type").value;

            document.getElementById("website_options").style.display = (type === "website") ? "block" : "none";
            document.getElementById("app_options").style.display = (type === "app") ? "block" : "none";
            document.getElementById("bot_options").style.display = (type === "bot") ? "block" : "none";

            calculateComplexity();
        }

        function calculateComplexity() {
            let score = 0;
            const type = document.getElementById("product_type").value;

            if (type === "website") {
                if (document.getElementById("pages").value === "3+") score += 2;
                if (document.getElementById("admin_panel").checked) score += 2;
                if (document.getElementById("auth").checked) score += 1;
            }

            if (type === "app") {
                if (document.getElementById("platform").value === "both") score += 2;
                if (document.getElementById("login").checked) score += 1;
                if (document.getElementById("user_profile").checked) score += 2;
            }

            if (type === "bot") {
                if (document.getElementById("bot_commands").value === "many") score += 2;
                if (document.getElementById("bot_payments").checked) score += 2;
                if (document.getElementById("bot_database").checked) score += 1;
            }

            let complexity = "low";
            if (score >= 3 && score < 5) complexity = "medium";
            else if (score >= 5) complexity = "high";

            document.getElementById("complexity").value = complexity;
        }
    </script>
</head>
<body>
    <h1>–ó–∞–ª–∏—à–∏—Ç–∏ –∑–∞—è–≤–∫—É</h1>

    <!-- üîπ –í–∏–±—ñ—Ä —Ç–∏–ø—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ -->
    <div style="margin-bottom: 20px;">
        <p><strong>–í–∏ –Ω–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —á–∏ –≤–∂–µ –º–∞—î—Ç–µ –∞–∫–∞—É–Ω—Ç?</strong></p>
        <a href="/request"><button type="button">–ù–æ–≤–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (–±–µ–∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó)</button></a>
        <a href="/user-login"><button type="button">–£–∂–µ –º–∞—é –∞–∫–∞—É–Ω—Ç</button></a>
    </div>

    <form method="post" oninput="calculateComplexity()">
        <label>–Ü–º‚Äô—è:</label><br>
        <input type="text" name="name" required><br>

        <label>Email:</label><br>
        <input type="email" name="email" required><br>

        <label>–¢–∏–ø –ø—Ä–æ–¥—É–∫—Ç—É:</label><br>
        <select name="product_type" id="product_type" onchange="showOptions()" required>
            <option value="">-- –û–±–µ—Ä—ñ—Ç—å --</option>
            <option value="website">–í–µ–±-—Å–∞–π—Ç</option>
            <option value="app">–ú–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫</option>
            <option value="bot">Telegram-–±–æ—Ç</option>
        </select><br><br>

        <div id="website_options" style="display:none;">
            <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫:</label><br>
            <select id="pages" name="pages">
                <option value="1-2">1-2</option>
                <option value="3+">3+</option>
            </select><br>

            <div class="checkbox-btn">
                <input type="checkbox" id="admin_panel" name="admin_panel">
                <label for="admin_panel">–ê–¥–º—ñ–Ω–ø–∞–Ω–µ–ª—å</label>
            </div>
            <div class="checkbox-btn">
                <input type="checkbox" id="auth" name="auth">
                <label for="auth">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</label>
            </div>
        </div>

        <div id="app_options" style="display:none;">
            <label>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:</label><br>
            <select id="platform" name="platform">
                <option value="android">Android</option>
                <option value="ios">iOS</option>
                <option value="both">Android + iOS</option>
            </select><br>

            <div class="checkbox-btn">
                <input type="checkbox" id="login" name="login">
                <label for="login">–í—Ö—ñ–¥ —É —Å–∏—Å—Ç–µ–º—É</label>
            </div>
            <div class="checkbox-btn">
                <input type="checkbox" id="user_profile" name="user_profile">
                <label for="user_profile">–ü—Ä–æ—Ñ—ñ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</label>
            </div>
        </div>

        <div id="bot_options" style="display:none;">
            <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–º–∞–Ω–¥:</label><br>
            <select id="bot_commands" name="bot_commands">
                <option value="few">1-3</option>
                <option value="many">4+</option>
            </select><br>

            <div class="checkbox-btn">
                <input type="checkbox" id="bot_database" name="bot_database">
                <label for="bot_database">–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö</label>
            </div>
            <div class="checkbox-btn">
                <input type="checkbox" id="bot_payments" name="bot_payments">
                <label for="bot_payments">–ü—Ä–∏–π–æ–º –ø–ª–∞—Ç–µ–∂—ñ–≤</label>
            </div>
        </div><br>

        <input type="hidden" name="complexity" id="complexity" value="low">
        <label>–û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É:</label><br>
        <textarea name="description" required></textarea><br>

        <button type="submit">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
    </form>
</body>
</html>
